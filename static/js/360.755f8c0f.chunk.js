"use strict";(self.webpackChunkkabanboard=self.webpackChunkkabanboard||[]).push([[360],{1360:function(e,t,n){n.r(t),n.d(t,{default:function(){return T}});var a=n(4942),s=n(5861),r=n(885),i=n(7757),c=n.n(i),o=n(2791),l=n(364),d=n(1053),u=n(4569),h=n.n(u),m=n(6541),f={task:"Task_task__vvJKy",taskDetail:"Task_taskDetail__NaulH",taskDetailText:"Task_taskDetailText__xrOK7",button:"Task_button__dXP9z"},x={dashboard:"Dashboard_dashboard__RtNIU",refreshButton:"Dashboard_refreshButton__udr6r",trashCan:"Dashboard_trashCan__eM74P",introSection:"Dashboard_introSection__kD-8V",cautionText:"Dashboard_cautionText__vkh1i",tasks:"Dashboard_tasks__zmmDl",heading:"Dashboard_heading__SXMTP",formAddTaskButton:"Dashboard_formAddTaskButton__3X7hw"},p=n(1413),k=n(3317),j=function(e){return function(){var t=(0,s.Z)(c().mark((function t(n){var a;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,h().get(k._+"userTasks?userId=".concat(e));case 3:return a=t.sent,t.abrupt("return",a.data);case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},v=function(e,t){return function(){var n=(0,s.Z)(c().mark((function n(a){return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,h().patch(k._+"userTasks/".concat(e),{stage:t});case 3:n.next=8;break;case 5:n.prev=5,n.t0=n.catch(0),console.log(n.t0);case 8:case"end":return n.stop()}}),n,null,[[0,5]])})));return function(e){return n.apply(this,arguments)}}()},b=function(e){return function(){var t=(0,s.Z)(c().mark((function t(n){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,h().delete(k._+"userTasks/".concat(e));case 3:console.log("Task Deleted"),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log(t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()},g=n(184),N=(0,l.$j)(null,(function(e){return{updateUserTaskStage:function(t,n){e(v(t,n))},deleteUserTask:function(t){e(b(t))},updateUserStageDetails:function(t,n){e(function(e,t){return function(){var n=(0,s.Z)(c().mark((function n(a){return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,h().patch(k._+"userTasks/".concat(e),{taskName:t.taskName,priority:t.priority,deadLine:t.deadLine});case 3:n.next=8;break;case 5:n.prev=5,n.t0=n.catch(0),console.log(n.t0);case 8:case"end":return n.stop()}}),n,null,[[0,5]])})));return function(e){return n.apply(this,arguments)}}()}(t,n))}}}))((function(e){var t=e.taskName,n=e.priority,a=e.deadline,s=e.stage,i=e.taskId,c=e.updateUserTaskStage,l=e.deleteUserTask,d=e.incrementValue,u=e.updateUserStageDetails,h=(0,m.c)((function(){return{type:"task",item:{taskId:i},collect:function(e){return{isDragging:!!e.isDragging()}}}})),p=(0,r.Z)(h,2),k=p[0].isDragging,v=p[1];(0,o.useEffect)((function(){document.querySelector(".".concat(x.trashCan)).style.visibility=!0===k?"visible":"hidden"}),[k]);var b=function(e,t){c(e,t),j(),d()},N=function(){_(""),S("low"),O(""),j(),d()},y=(0,o.useState)(""),T=(0,r.Z)(y,2),D=T[0],_=T[1],w=(0,o.useState)("low"),C=(0,r.Z)(w,2),Z=C[0],S=C[1],A=(0,o.useState)(""),U=(0,r.Z)(A,2),I=U[0],O=U[1];return(0,g.jsxs)("div",{className:"".concat(f.task," container"),ref:v,style:{border:k?"5px solid red":"1px solid #ced4da"},children:[(0,g.jsxs)("div",{className:"".concat(f.taskName," ").concat(f.taskDetail),children:[(0,g.jsx)("span",{children:"Task Name - "}),(0,g.jsxs)("span",{className:f.taskDetailText,children:[t," "]})]}),(0,g.jsxs)("div",{className:"".concat(f.taskPriority," ").concat(f.taskDetail),children:[(0,g.jsx)("span",{children:"Priority - "}),(0,g.jsx)("span",{className:f.taskDetailText,children:n})]}),(0,g.jsxs)("div",{className:"".concat(f.taskDeadline," ").concat(f.taskDetail),children:[(0,g.jsx)("span",{children:"Deadline - "}),(0,g.jsx)("span",{className:f.taskDetailText,children:a})]}),(0,g.jsx)("button",{className:"".concat(f.button," btn btn-success"),disabled:0==s,onClick:function(){b(i,parseInt(s)-1)},children:"Previous"}),(0,g.jsx)("br",{}),(0,g.jsx)("button",{className:"".concat(f.button," btn btn-success"),disabled:3==s,onClick:function(){b(i,parseInt(s)+1)},children:"Next"}),(0,g.jsx)("br",{}),(0,g.jsx)("button",{className:"".concat(f.button," btn btn-success"),"data-toggle":"modal","data-target":"#newUserDetails".concat(i),onClick:function(){},children:"Edit"}),(0,g.jsx)("div",{className:"modal fade",id:"newUserDetails".concat(i),tabIndex:"-1",role:"dialog","aria-labelledby":"newUserDetails".concat(i,"Title"),"aria-hidden":"true",children:(0,g.jsx)("div",{className:"modal-dialog modal-dialog-centered",role:"document",children:(0,g.jsxs)("div",{className:"modal-content",children:[(0,g.jsxs)("div",{className:"modal-header",children:[(0,g.jsx)("h5",{className:"modal-title",id:"exampleModalLongTitle",children:"Enter new user details"}),(0,g.jsx)("button",{type:"button",className:"close updateUserDetailClose","data-dismiss":"modal","aria-label":"Close",onClick:function(){N()},children:(0,g.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),(0,g.jsx)("div",{className:"modal-body",children:(0,g.jsxs)("form",{onSubmit:function(e){e.preventDefault(),function(e,t){u(e,t),j(),d(),N()}(i,{taskName:D,priority:Z,deadLine:I})},children:[(0,g.jsxs)("div",{className:"form-group",style:{textAlign:"left"},children:[(0,g.jsx)("label",{htmlFor:"newTaskName",children:(0,g.jsx)("h5",{children:"Task Name"})}),(0,g.jsx)("input",{type:"text",className:"form-control",id:"newTaskName","aria-describedby":"newTaskNameHelp",placeholder:"Enter new task name",value:D,onChange:function(e){_(e.target.value)},required:!0})]}),(0,g.jsx)("br",{}),(0,g.jsxs)("div",{className:"form-group",style:{textAlign:"left"},children:[(0,g.jsxs)("label",{htmlFor:"newPriority",children:[" ",(0,g.jsx)("h5",{children:"Priority"})," "]}),(0,g.jsx)("br",{}),(0,g.jsxs)("select",{value:Z,onChange:function(e){S(e.target.value)},children:[(0,g.jsx)("option",{children:"low"}),(0,g.jsx)("option",{children:"medium"}),(0,g.jsx)("option",{children:"high"})]})]}),(0,g.jsx)("br",{}),(0,g.jsxs)("div",{className:"form-group",style:{textAlign:"left"},children:[(0,g.jsx)("label",{htmlFor:"newDeadline",children:(0,g.jsx)("h5",{children:"Deadline"})}),(0,g.jsx)("input",{type:"date",className:"form-control",id:"newDeadline",placeholder:"Enter new deadline",value:I,onChange:function(e){O(e.target.value)},required:!0})]}),(0,g.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Submit"})]})})]})})}),(0,g.jsx)("br",{}),(0,g.jsx)("button",{className:"".concat(f.button," btn btn-danger"),onClick:function(){!function(e){l(e),j(),d()}(i)},children:"Delete"})]})})),y=n(9271),T=(0,l.$j)((function(e){return{userName:e.AuthenticationReducer.data?e.AuthenticationReducer.data.name:null,tasks:e.TaskManagementReducer.tasks,activeUser:e.AuthenticationReducer.activeUser,isAuthenticated:e.AuthenticationReducer.isAuthenticated}}),(function(e){return{fetchUserTasks:function(t){e(j)},addUserTask:function(t){e(function(e){return function(){var t=(0,s.Z)(c().mark((function t(n){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{h().post(k._+"userTasks",(0,p.Z)({},e))}catch(n){console.log(n)}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))},updateUserTaskStage:function(t,n){e(v(t,n))},deleteUserTask:function(t){e(b(t))}}}))((function(e){var t,n=e.userName,i=e.activeUser,l=e.addUserTask,u=e.isAuthenticated,m=e.updateUserTaskStage,f=e.deleteUserTask,p=(0,o.useState)(""),v=(0,r.Z)(p,2),b=v[0],T=v[1],D=(0,o.useState)("low"),_=(0,r.Z)(D,2),w=_[0],C=_[1],Z=(0,o.useState)(""),S=(0,r.Z)(Z,2),A=S[0],U=S[1],I=(0,o.useState)(0),O=(0,r.Z)(I,2),L=O[0],B=O[1],E=(0,o.useState)(!0),F=(0,r.Z)(E,2),P=F[0],R=F[1],q=(0,o.useState)([]),V=(0,r.Z)(q,2),M=V[0],K=V[1],H=(0,o.useState)(1),W=(0,r.Z)(H,2),X=W[0],z=W[1],Y=(0,y.k6)(),$=(0,d.L)((function(){return{accept:"task",drop:function(e){return xe(e.taskId)},collect:function(e){return{isOver:!!e.isOver()}}}})),G=(0,r.Z)($,2),J=(G[0].isOver1,G[1]),Q=(0,d.L)((function(){return{accept:"task",drop:function(e){return pe(e.taskId)},collect:function(e){return{isOver:!!e.isOver()}}}})),ee=(0,r.Z)(Q,2),te=(ee[0].isOver2,ee[1]),ne=(0,d.L)((function(){return{accept:"task",drop:function(e){return ke(e.taskId)},collect:function(e){return{isOver:!!e.isOver()}}}})),ae=(0,r.Z)(ne,2),se=(ae[0].isOver3,ae[1]),re=(0,d.L)((function(){return{accept:"task",drop:function(e){return je(e.taskId)},collect:function(e){return{isOver:!!e.isOver()}}}})),ie=(0,r.Z)(re,2),ce=(ie[0].isOver4,ie[1]),oe=(0,d.L)((function(){return{accept:"task",drop:function(e){return he(e.taskId)},collect:function(e){return{isOver:!!e.isOver()}}}})),le=(0,r.Z)(oe,2),de=le[0].isOver,ue=le[1],he=function(e){window.confirm("Are you sure you want to delete it?")?(f(e),j(),z((function(e){return e+1}))):(j(),z((function(e){return e+1})))},me=function(e,t){m(e,t),j(),z((function(e){return e+1}))},fe=function(){document.querySelector(".".concat(x.trashCan)).style.visibility="visible"},xe=function(e){me(e,0),fe()},pe=function(e){me(e,1),fe()},ke=function(e){me(e,2),fe()},je=function(e){me(e,3),fe()},ve=function(){var e=(0,s.Z)(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h().get(k._+"userTasks?userId=".concat(i));case 3:t=e.sent,K(t.data),R(!1),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();(0,o.useEffect)((function(){ve()}),[X,j]),(0,o.useEffect)((function(){u||Y.push("/")}),[]);var be=function(){z((function(e){return e+1}))};return(0,g.jsx)("div",{children:P?(0,g.jsx)("div",{children:"Loading"}):(0,g.jsxs)("div",{className:"".concat(x.dashboard," container"),children:[(0,g.jsxs)("div",{className:"".concat(x.refreshButton),children:[(0,g.jsx)("button",{className:"btn",onClick:function(){j(),z((function(e){return e+1}))},children:"Refresh"})," "]}),(0,g.jsx)("div",{className:"".concat(x.trashCan),ref:ue,style:{border:de?"5px solid red":"1px solid black",color:de?"red":"black"},children:"Trash Can"}),(0,g.jsxs)("div",{className:"".concat(x.introSection),children:[(0,g.jsxs)("h3",{children:["Welcome ",n||""]}),(0,g.jsx)("h6",{style:{color:"red"},children:"Your can drag the tasks using mouse"})]}),(0,g.jsx)("button",(t={className:"".concat(x.addTaskButton)},(0,a.Z)(t,"className","btn btn-primary"),(0,a.Z)(t,"data-toggle","modal"),(0,a.Z)(t,"data-target","#taskForm"),(0,a.Z)(t,"style",{display:"block",margin:"0 auto",marginBottom:"2rem"}),(0,a.Z)(t,"children","Add A New Task"),t)),0==M.length?(0,g.jsx)("h4",{className:x.cautionText,children:"Your task list is empty. Click on ADD A NEW TASK button to add a task"}):(0,g.jsxs)("div",{className:"".concat(x.tasks),children:[(0,g.jsxs)("div",{ref:J,children:[(0,g.jsx)("h3",{className:"".concat(x.heading),children:"Backlog"}),(0,g.jsx)("div",{children:M&&M.map((function(e,t){return 0==e.stage?(0,g.jsx)("div",{children:(0,g.jsx)(N,{taskName:e.taskName,priority:e.priority,deadline:e.deadLine,stage:e.stage,taskId:e.id,incrementValue:function(){be()}})},t):null}))})]}),(0,g.jsxs)("div",{ref:te,children:[(0,g.jsx)("h3",{className:"".concat(x.heading),children:"To Do"}),(0,g.jsxs)("div",{children:[M&&M.map((function(e,t){return 1==e.stage?(0,g.jsx)("div",{children:(0,g.jsx)(N,{taskName:e.taskName,priority:e.priority,deadline:e.deadLine,stage:e.stage,taskId:e.id,incrementValue:function(){be()}})},t):null}))," "]})]}),(0,g.jsxs)("div",{ref:se,children:[(0,g.jsx)("h3",{className:"".concat(x.heading),children:"On Going"}),(0,g.jsxs)("div",{children:[M&&M.map((function(e,t){return 2==e.stage?(0,g.jsx)("div",{children:(0,g.jsx)(N,{taskName:e.taskName,priority:e.priority,deadline:e.deadLine,stage:e.stage,taskId:e.id,incrementValue:function(){be()}})},t):null}))," "]})]}),(0,g.jsxs)("div",{ref:ce,children:[(0,g.jsx)("h3",{className:"".concat(x.heading),children:"Done"}),(0,g.jsx)("div",{children:M&&M.map((function(e,t){return 3==e.stage?(0,g.jsx)("div",{children:(0,g.jsx)(N,{taskName:e.taskName,priority:e.priority,deadline:e.deadLine,stage:e.stage,taskId:e.id,incrementValue:function(){be()}})},t):null}))})]})]}),(0,g.jsx)("div",{className:"modal fade",id:"taskForm",tabIndex:"-1",role:"dialog","aria-labelledby":"taskFormTitle","aria-hidden":"true",children:(0,g.jsx)("div",{className:"modal-dialog modal-dialog-centered",role:"document",children:(0,g.jsxs)("div",{className:"modal-content",children:[(0,g.jsxs)("div",{className:"modal-header",children:[(0,g.jsx)("h5",{className:"modal-title",id:"exampleModalLongTitle",children:"Welcome To The Task Form"}),(0,g.jsx)("button",{type:"button",className:"close addTaskCloseButton","data-dismiss":"modal","aria-label":"Close",onClick:function(){j(),z((function(e){return e+1}))},children:(0,g.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),(0,g.jsx)("div",{className:"modal-body",children:(0,g.jsxs)("form",{onSubmit:function(e){e.preventDefault(),l({userId:i,taskName:b,priority:w,deadLine:A,stage:L}),T(""),C(""),U(""),B(0),j(),z((function(e){return e+1}))},children:[(0,g.jsxs)("div",{className:"form-group",children:[(0,g.jsxs)("label",{htmlFor:"taskName",children:[(0,g.jsx)("h5",{children:"Task Name"})," "]}),(0,g.jsx)("input",{type:"text",className:"form-control",id:"taskName","aria-describedby":"taskNameHelp",placeholder:"Enter Task",value:b,onChange:function(e){T(e.target.value)},required:!0})]}),(0,g.jsx)("br",{}),(0,g.jsxs)("div",{className:"form-group",children:[(0,g.jsxs)("label",{htmlFor:"priority",children:[(0,g.jsx)("h5",{children:"Priority"})," "]}),(0,g.jsx)("br",{}),(0,g.jsxs)("select",{value:w,onChange:function(e){C(e.target.value)},children:[(0,g.jsx)("option",{children:"low"}),(0,g.jsx)("option",{children:"medium"}),(0,g.jsx)("option",{children:"high"})]})]}),(0,g.jsx)("br",{}),(0,g.jsxs)("div",{className:"form-group",children:[(0,g.jsxs)("label",{htmlFor:"deadline",children:[(0,g.jsx)("h5",{children:"Deadline"})," "]}),(0,g.jsx)("input",{type:"date",className:"form-control",id:"deadline",placeholder:"Enter Deadline",value:A,onChange:function(e){U(e.target.value)},required:!0})]}),(0,g.jsx)("button",{type:"submit",className:"btn btn-primary",children:"ADD TASK"}),(0,g.jsx)("button",{type:"button",className:"".concat(x.formAddTaskButton," btn btn-secondary"),"data-dismiss":"modal",onClick:function(){j(),z((function(e){return e+1}))},children:"Close"})]})}),(0,g.jsx)("div",{className:"modal-footer"})]})})})]})})}))}}]);
//# sourceMappingURL=360.755f8c0f.chunk.js.map