"use strict";(self.webpackChunkkabanboard=self.webpackChunkkabanboard||[]).push([[360],{1360:function(e,t,n){n.r(t),n.d(t,{default:function(){return y}});var a=n(5861),s=n(885),r=n(7757),i=n.n(r),c=n(2791),o=n(364),l=n(1053),d=n(4569),u=n.n(d),h=n(6541),m={task:"Task_task__vvJKy",taskDetail:"Task_taskDetail__NaulH",taskDetailText:"Task_taskDetailText__xrOK7",button:"Task_button__dXP9z"},f={dashboard:"Dashboard_dashboard__RtNIU",refreshButton:"Dashboard_refreshButton__udr6r",trashCan:"Dashboard_trashCan__eM74P",introSection:"Dashboard_introSection__kD-8V",cautionText:"Dashboard_cautionText__vkh1i",tasks:"Dashboard_tasks__zmmDl",heading:"Dashboard_heading__SXMTP",formAddTaskButton:"Dashboard_formAddTaskButton__3X7hw"},x=n(8683),p=n(3317),k=function(e){return function(){var t=(0,a.Z)(i().mark((function t(n){var a;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u().get(p._+"userTasks?userId=".concat(e));case 3:return a=t.sent,t.abrupt("return",a.data);case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},j=function(e,t){return function(){var n=(0,a.Z)(i().mark((function n(a){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,u().patch(p._+"userTasks/".concat(e),{stage:t});case 3:n.next=8;break;case 5:n.prev=5,n.t0=n.catch(0),console.log(n.t0);case 8:case"end":return n.stop()}}),n,null,[[0,5]])})));return function(e){return n.apply(this,arguments)}}()},v=function(e){return function(){var t=(0,a.Z)(i().mark((function t(n){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u().delete(p._+"userTasks/".concat(e));case 3:console.log("Task Deleted"),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log(t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()},b=n(184),g=(0,o.$j)(null,(function(e){return{updateUserTaskStage:function(t,n){e(j(t,n))},deleteUserTask:function(t){e(v(t))},updateUserStageDetails:function(t,n){e(function(e,t){return function(){var n=(0,a.Z)(i().mark((function n(a){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,u().patch(p._+"userTasks/".concat(e),{taskName:t.taskName,priority:t.priority,deadLine:t.deadLine});case 3:n.next=8;break;case 5:n.prev=5,n.t0=n.catch(0),console.log(n.t0);case 8:case"end":return n.stop()}}),n,null,[[0,5]])})));return function(e){return n.apply(this,arguments)}}()}(t,n))}}}))((function(e){var t=e.taskName,n=e.priority,a=e.deadline,r=e.stage,i=e.taskId,o=e.updateUserTaskStage,l=e.deleteUserTask,d=e.incrementValue,u=e.updateUserStageDetails,x=(0,h.c)((function(){return{type:"task",item:{taskId:i},collect:function(e){return{isDragging:e.isDragging()}}}})),p=(0,s.Z)(x,2),j=p[0].isDragging,v=p[1];(0,c.useEffect)((function(){document.querySelector(".".concat(f.trashCan)).style.visibility=!0===j?"visible":"hidden"}),[j]);var g=function(e,t){o(e,t),k(),d()},N=function(){_(""),Z("low"),O(""),k(),d()},y=(0,c.useState)(""),T=(0,s.Z)(y,2),D=T[0],_=T[1],w=(0,c.useState)("low"),C=(0,s.Z)(w,2),S=C[0],Z=C[1],A=(0,c.useState)(""),U=(0,s.Z)(A,2),I=U[0],O=U[1];return(0,b.jsxs)("div",{className:"".concat(m.task," container"),ref:v,style:{border:j?"5px solid red":"1px solid #ced4da"},children:[(0,b.jsxs)("div",{className:"".concat(m.taskName," ").concat(m.taskDetail),children:[(0,b.jsx)("span",{children:"Task Name - "}),(0,b.jsxs)("span",{className:m.taskDetailText,children:[t," "]})]}),(0,b.jsxs)("div",{className:"".concat(m.taskPriority," ").concat(m.taskDetail),children:[(0,b.jsx)("span",{children:"Priority - "}),(0,b.jsx)("span",{className:m.taskDetailText,children:n})]}),(0,b.jsxs)("div",{className:"".concat(m.taskDeadline," ").concat(m.taskDetail),children:[(0,b.jsx)("span",{children:"Deadline - "}),(0,b.jsx)("span",{className:m.taskDetailText,children:a})]}),(0,b.jsx)("button",{className:"".concat(m.button," btn btn-success"),disabled:0==r,onClick:function(){g(i,parseInt(r)-1)},children:"Previous"}),(0,b.jsx)("br",{}),(0,b.jsx)("button",{className:"".concat(m.button," btn btn-success"),disabled:3==r,onClick:function(){g(i,parseInt(r)+1)},children:"Next"}),(0,b.jsx)("br",{}),(0,b.jsx)("button",{className:"".concat(m.button," btn btn-success"),"data-toggle":"modal","data-target":"#newUserDetails".concat(i),onClick:function(){},children:"Edit"}),(0,b.jsx)("div",{className:"modal fade",id:"newUserDetails".concat(i),tabIndex:"-1",role:"dialog","aria-labelledby":"newUserDetails".concat(i,"Title"),"aria-hidden":"true",children:(0,b.jsx)("div",{className:"modal-dialog modal-dialog-centered",role:"document",children:(0,b.jsxs)("div",{className:"modal-content",children:[(0,b.jsxs)("div",{className:"modal-header",children:[(0,b.jsx)("h5",{className:"modal-title",id:"exampleModalLongTitle",children:"Enter new user details"}),(0,b.jsx)("button",{type:"button",className:"close updateUserDetailClose","data-dismiss":"modal","aria-label":"Close",onClick:function(){N()},children:(0,b.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),(0,b.jsx)("div",{className:"modal-body",children:(0,b.jsxs)("form",{onSubmit:function(e){e.preventDefault(),function(e,t){u(e,t),k(),d(),N()}(i,{taskName:D,priority:S,deadLine:I})},children:[(0,b.jsxs)("div",{className:"form-group",style:{textAlign:"left"},children:[(0,b.jsx)("label",{htmlFor:"newTaskName",children:(0,b.jsx)("h5",{children:"Task Name"})}),(0,b.jsx)("input",{type:"text",className:"form-control",id:"newTaskName","aria-describedby":"newTaskNameHelp",placeholder:"Enter new task name",value:D,onChange:function(e){_(e.target.value)},required:!0})]}),(0,b.jsx)("br",{}),(0,b.jsxs)("div",{className:"form-group",style:{textAlign:"left"},children:[(0,b.jsxs)("label",{htmlFor:"newPriority",children:[" ",(0,b.jsx)("h5",{children:"Priority"})," "]}),(0,b.jsx)("br",{}),(0,b.jsxs)("select",{value:S,onChange:function(e){Z(e.target.value)},children:[(0,b.jsx)("option",{children:"low"}),(0,b.jsx)("option",{children:"medium"}),(0,b.jsx)("option",{children:"high"})]})]}),(0,b.jsx)("br",{}),(0,b.jsxs)("div",{className:"form-group",style:{textAlign:"left"},children:[(0,b.jsx)("label",{htmlFor:"newDeadline",children:(0,b.jsx)("h5",{children:"Deadline"})}),(0,b.jsx)("input",{type:"date",className:"form-control",id:"newDeadline",placeholder:"Enter new deadline",value:I,onChange:function(e){O(e.target.value)},required:!0})]}),(0,b.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Submit"})]})})]})})}),(0,b.jsx)("br",{}),(0,b.jsx)("button",{className:"".concat(m.button," btn btn-danger"),onClick:function(){!function(e){l(e),k(),d()}(i)},children:"Delete"})]})})),N=n(9271),y=(0,o.$j)((function(e){return{userName:e.AuthenticationReducer.data?e.AuthenticationReducer.data.name:null,tasks:e.TaskManagementReducer.tasks,activeUser:e.AuthenticationReducer.activeUser,isAuthenticated:e.AuthenticationReducer.isAuthenticated}}),(function(e){return{fetchUserTasks:function(t){e(k)},addUserTask:function(t){e(function(e){return function(){var t=(0,a.Z)(i().mark((function t(n){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{u().post(p._+"userTasks",(0,x.Z)({},e))}catch(n){console.log(n)}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))},updateUserTaskStage:function(t,n){e(j(t,n))},deleteUserTask:function(t){e(v(t))}}}))((function(e){var t=e.userName,n=e.activeUser,r=e.addUserTask,o=e.isAuthenticated,d=e.updateUserTaskStage,h=e.deleteUserTask,m=(0,c.useState)(""),x=(0,s.Z)(m,2),j=x[0],v=x[1],y=(0,c.useState)("low"),T=(0,s.Z)(y,2),D=T[0],_=T[1],w=(0,c.useState)(""),C=(0,s.Z)(w,2),S=C[0],Z=C[1],A=(0,c.useState)(0),U=(0,s.Z)(A,2),I=U[0],O=U[1],L=(0,c.useState)(!0),B=(0,s.Z)(L,2),E=B[0],F=B[1],P=(0,c.useState)([]),R=(0,s.Z)(P,2),q=R[0],V=R[1],M=(0,c.useState)(1),K=(0,s.Z)(M,2),H=K[0],W=K[1],X=(0,N.k6)(),z=(0,l.L)((function(){return{accept:"task",drop:function(e){return me(e.taskId)},collect:function(e){return{isOver:!!e.isOver()}}}})),Y=(0,s.Z)(z,2),$=(Y[0].isOver1,Y[1]),G=(0,l.L)((function(){return{accept:"task",drop:function(e){return fe(e.taskId)},collect:function(e){return{isOver:!!e.isOver()}}}})),J=(0,s.Z)(G,2),Q=(J[0].isOver2,J[1]),ee=(0,l.L)((function(){return{accept:"task",drop:function(e){return xe(e.taskId)},collect:function(e){return{isOver:!!e.isOver()}}}})),te=(0,s.Z)(ee,2),ne=(te[0].isOver3,te[1]),ae=(0,l.L)((function(){return{accept:"task",drop:function(e){return pe(e.taskId)},collect:function(e){return{isOver:!!e.isOver()}}}})),se=(0,s.Z)(ae,2),re=(se[0].isOver4,se[1]),ie=(0,l.L)((function(){return{accept:"task",drop:function(e){return de(e.taskId)},collect:function(e){return{isOver:!!e.isOver()}}}})),ce=(0,s.Z)(ie,2),oe=ce[0].isOver,le=ce[1],de=function(e){window.confirm("Are you sure you want to delete it?")?(h(e),k(),W((function(e){return e+1}))):(k(),W((function(e){return e+1})))},ue=function(e,t){d(e,t),k(),W((function(e){return e+1}))},he=function(){document.querySelector(".".concat(f.trashCan)).style.visibility="visible"},me=function(e){ue(e,0),he()},fe=function(e){ue(e,1),he()},xe=function(e){ue(e,2),he()},pe=function(e){ue(e,3),he()},ke=function(){var e=(0,a.Z)(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u().get(p._+"userTasks?userId=".concat(n));case 3:t=e.sent,V(t.data),F(!1),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();(0,c.useEffect)((function(){ke()}),[H,k]),(0,c.useEffect)((function(){o||X.push("/")}),[]);var je=function(){W((function(e){return e+1}))};return(0,b.jsx)("div",{children:E?(0,b.jsx)("div",{children:"Loading"}):(0,b.jsxs)("div",{className:"".concat(f.dashboard," container"),children:[(0,b.jsxs)("div",{className:"".concat(f.refreshButton),children:[(0,b.jsx)("button",{className:"btn",onClick:function(){k(),W((function(e){return e+1}))},children:"Refresh"})," "]}),(0,b.jsx)("div",{className:"".concat(f.trashCan),ref:le,style:{border:oe?"5px solid red":"1px solid black",color:oe?"red":"black"},children:"Trash Can"}),(0,b.jsxs)("div",{className:"".concat(f.introSection),children:[(0,b.jsxs)("h3",{children:["Welcome ",t||""]}),(0,b.jsx)("h6",{style:{color:"red"},children:"Your can drag the tasks using mouse"})]}),(0,b.jsx)("button",{className:"btn btn-primary ".concat(f.addTaskButton),"data-toggle":"modal","data-target":"#taskForm",style:{display:"block",margin:"0 auto",marginBottom:"2rem"},children:"Add A New Task"}),0==q.length?(0,b.jsx)("h4",{className:f.cautionText,children:"Your task list is empty. Click on ADD A NEW TASK button to add a task"}):(0,b.jsxs)("div",{className:"".concat(f.tasks),children:[(0,b.jsxs)("div",{ref:$,children:[(0,b.jsx)("h3",{className:"".concat(f.heading),children:"Backlog"}),(0,b.jsx)("div",{children:q&&q.map((function(e,t){return 0==e.stage?(0,b.jsx)("div",{children:(0,b.jsx)(g,{taskName:e.taskName,priority:e.priority,deadline:e.deadLine,stage:e.stage,taskId:e.id,incrementValue:function(){je()}})},t):null}))})]}),(0,b.jsxs)("div",{ref:Q,children:[(0,b.jsx)("h3",{className:"".concat(f.heading),children:"To Do"}),(0,b.jsxs)("div",{children:[q&&q.map((function(e,t){return 1==e.stage?(0,b.jsx)("div",{children:(0,b.jsx)(g,{taskName:e.taskName,priority:e.priority,deadline:e.deadLine,stage:e.stage,taskId:e.id,incrementValue:function(){je()}})},t):null}))," "]})]}),(0,b.jsxs)("div",{ref:ne,children:[(0,b.jsx)("h3",{className:"".concat(f.heading),children:"On Going"}),(0,b.jsxs)("div",{children:[q&&q.map((function(e,t){return 2==e.stage?(0,b.jsx)("div",{children:(0,b.jsx)(g,{taskName:e.taskName,priority:e.priority,deadline:e.deadLine,stage:e.stage,taskId:e.id,incrementValue:function(){je()}})},t):null}))," "]})]}),(0,b.jsxs)("div",{ref:re,children:[(0,b.jsx)("h3",{className:"".concat(f.heading),children:"Done"}),(0,b.jsx)("div",{children:q&&q.map((function(e,t){return 3==e.stage?(0,b.jsx)("div",{children:(0,b.jsx)(g,{taskName:e.taskName,priority:e.priority,deadline:e.deadLine,stage:e.stage,taskId:e.id,incrementValue:function(){je()}})},t):null}))})]})]}),(0,b.jsx)("div",{className:"modal fade",id:"taskForm",tabIndex:"-1",role:"dialog","aria-labelledby":"taskFormTitle","aria-hidden":"true",children:(0,b.jsx)("div",{className:"modal-dialog modal-dialog-centered",role:"document",children:(0,b.jsxs)("div",{className:"modal-content",children:[(0,b.jsxs)("div",{className:"modal-header",children:[(0,b.jsx)("h5",{className:"modal-title",id:"exampleModalLongTitle",children:"Welcome To The Task Form"}),(0,b.jsx)("button",{type:"button",className:"close addTaskCloseButton","data-dismiss":"modal","aria-label":"Close",onClick:function(){k(),W((function(e){return e+1}))},children:(0,b.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),(0,b.jsx)("div",{className:"modal-body",children:(0,b.jsxs)("form",{onSubmit:function(e){e.preventDefault(),r({userId:n,taskName:j,priority:D,deadLine:S,stage:I}),v(""),_(""),Z(""),O(0),k(),W((function(e){return e+1}))},children:[(0,b.jsxs)("div",{className:"form-group",children:[(0,b.jsxs)("label",{htmlFor:"taskName",children:[(0,b.jsx)("h5",{children:"Task Name"})," "]}),(0,b.jsx)("input",{type:"text",className:"form-control",id:"taskName","aria-describedby":"taskNameHelp",placeholder:"Enter Task",value:j,onChange:function(e){v(e.target.value)},required:!0})]}),(0,b.jsx)("br",{}),(0,b.jsxs)("div",{className:"form-group",children:[(0,b.jsxs)("label",{htmlFor:"priority",children:[(0,b.jsx)("h5",{children:"Priority"})," "]}),(0,b.jsx)("br",{}),(0,b.jsxs)("select",{value:D,onChange:function(e){_(e.target.value)},children:[(0,b.jsx)("option",{children:"low"}),(0,b.jsx)("option",{children:"medium"}),(0,b.jsx)("option",{children:"high"})]})]}),(0,b.jsx)("br",{}),(0,b.jsxs)("div",{className:"form-group",children:[(0,b.jsxs)("label",{htmlFor:"deadline",children:[(0,b.jsx)("h5",{children:"Deadline"})," "]}),(0,b.jsx)("input",{type:"date",className:"form-control",id:"deadline",placeholder:"Enter Deadline",value:S,onChange:function(e){Z(e.target.value)},required:!0})]}),(0,b.jsx)("button",{type:"submit",className:"btn btn-primary",children:"ADD TASK"}),(0,b.jsx)("button",{type:"button",className:"".concat(f.formAddTaskButton," btn btn-secondary"),"data-dismiss":"modal",onClick:function(){k(),W((function(e){return e+1}))},children:"Close"})]})}),(0,b.jsx)("div",{className:"modal-footer"})]})})})]})})}))}}]);
//# sourceMappingURL=360.40f63b44.chunk.js.map